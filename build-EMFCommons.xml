<project name="EMFCommons" default="dist" basedir=".">
	<description>
		Create a jar file of all the classes in commons for inclusion
		in the EMFServer and EMFClient projects.
	</description>

	<!-- utilize predefined environment variables -->
	<property name="env" environment="env" value="env"/>
	<property name="J2EE_HOME" value="${env.J2EE_HOME}"/>
	<property name="JAVA_HOME" value="${env.JAVA_HOME}"/>
	<property name="AXIS_HOME" value="${env.AXIS_HOME}"/>
	<property name="src" value="."/> 
	<property name="build" value="./build"/>
	
  <!-- set global properties for this build -->
  <property name="bin" location="./bin"/>
  <property name="dist"  location="./dist"/>

	<!-- Create the class path -->
	<path id="common.class.path">
	  <pathelement location="."/>
	  <pathelement location="${J2EE_HOME}/lib/j2ee.jar"/> 
	  <pathelement location="${J2EE_HOME}/lib/j2ee-svc.jar"/> 	
      <pathelement location="${AXIS_HOME}/lib/jaxrpc.jar"/> 		
	  <pathelement location="${AXIS_HOME}/lib/soap.jar"/> 		
      <pathelement location="${AXIS_HOME}/lib/axis.jar"/> 		
	  <pathelement location="${AXIS_HOME}/lib/axis-ant.jar"/> 		
      <pathelement location="${AXIS_HOME}/lib/commons-discovery-0.2.jar"/> 		
	  <pathelement location="${AXIS_HOME}/lib/commons-logging-1.0.4.jar"/> 		
      <pathelement location="${AXIS_HOME}/lib/log4j-1.2.8.jar"/> 		
      <pathelement location="${AXIS_HOME}/lib/saaj.jar"/> 		
      <pathelement location="${AXIS_HOME}/lib/wsdl4j-1.5.1.jar"/> 		
	</path>

	<!-- create a reference for the class path utilized -->
	<property name="common.class.path" refid="common.class.path" />

  <target name="init">
    <!-- Create the time stamp -->
    <tstamp/>
    <!-- Create the build directory structure used by compile -->
    <mkdir dir="${build}"/>
  </target>

  <target name="compile" depends="init"
        description="compile the source " >
    <!-- Compile the java code from ${src} into ${build} -->
<!--    <javac srcdir="${src}" destdir="${build}"/> -->
  </target>

  <target name="dist" depends="compile"
        description="generate the distribution" >
    <!-- Create the distribution directory -->
    <mkdir dir="${dist}/lib"/>

    <!-- Put everything in ${build} into the MyProject-${DSTAMP}.jar file -->
    <jar jarfile="${dist}/lib/emfcommons.jar" basedir="${bin}"/>
  </target>

  <target name="clean"
        description="clean up" >
    <!-- Delete the ${build} and ${dist} directory trees -->
    <delete dir="${build}"/>
    <delete dir="${dist}"/>
  </target>
	
</project>
